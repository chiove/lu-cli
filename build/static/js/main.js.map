{"version":3,"sources":["webpack:///delegated ./node_modules/react/index.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/react-router/esm/react-router.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/@babel/runtime/helpers/interopRequireDefault.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/tiny-invariant/dist/tiny-invariant.esm.js from dll-reference vendor_df17b","webpack:///external \"vendor_df17b\"","webpack:///delegated ./node_modules/react-dom/index.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/moment/moment.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/process/browser.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/moment/locale/zh-cn.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/@babel/runtime/helpers/extends.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/prop-types/index.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/tiny-warning/dist/tiny-warning.esm.js from dll-reference vendor_df17b","webpack:///./src/utils/match-route.js","webpack:///./src/utils/loadble.js","webpack:///./src/router.js","webpack:///./src/index.js","webpack:///delegated ./node_modules/@babel/runtime/helpers/esm/extends.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/webpack/buildin/global.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/history/esm/history.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js from dll-reference vendor_df17b","webpack:///delegated ./node_modules/antd/es/index.js from dll-reference vendor_df17b"],"names":["module","exports","__webpack_require__","vendor_df17b","path","routeList","targetRoute","targetMatch","item","matchPath","AsyncComponent","props","state","component","this","load","Module","setState","children","React","Component","loadble","loader","routes","exact","ssr","moment","locale","clientRender","matchRoute","document","location","pathname","result","render","process","ReactDOM","window","__USE_SERVER__","zhCN","map","key","getElementById","__SERVER__"],"mappings":"2EAAAA,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,I,mBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,oBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,M,oBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,oBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,iBCA3CF,EAAOC,QAAUE,c,oBCAjBH,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,I,oBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,M,iECA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,oBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,M,oBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,oBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,oBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,+mCCE5B,eAACE,EAAMC,GACpB,IAAIC,EAAiBC,EADa,MAEfF,GAFe,IAElC,2BAA8B,KAAnBG,EAAmB,QAE5B,GADAD,EAAcE,oBAAUL,EAAMI,GACb,CACfF,EAAcE,EACd,QAN8B,8BASlC,MAAO,CAACF,cAAaC,gB,ghDCRjBG,E,0QACJ,WAAYC,GAAO,a,4FAAA,UACjB,cAAMA,IACDC,MAAQ,CACXC,UAAW,MAHI,E,4KAQZC,KAAKF,MAAMC,U,gCACRC,KAAKC,KAAKD,KAAKH,O,wJAIdA,G,sGACYA,EAAMI,O,OAArBC,E,OACNF,KAAKG,SAAS,CACZJ,UAAWG,EAAM,QAAWA,EAAM,QAAWA,I,6HAK/C,OAAOF,KAAKF,MAAMC,UAAYC,KAAKH,MAAMO,SAASJ,KAAKF,MAAMC,WAAa,U,8BAtBjDM,IAAMC,WA0CpBC,MAhBf,SAAiBC,GAaf,OAHgB,SAAAX,GAAK,OAAK,kBAACD,EAAD,CAAgBK,KAAMO,IAC7C,SAAAF,GAAS,OAAI,kBAACA,EAAcT,QCOlBY,EA7CA,CACb,CACEnB,KAAM,QACNoB,OAAO,EACPX,UAAWQ,GAAQ,kBAAM,8DACzBE,OAAQ,CACN,CACEnB,KAAM,CAAC,QAAS,WAChBoB,OAAO,EACPX,UAAWQ,GAAQ,kBAAM,+DAE3B,CACEjB,KAAM,eACNoB,OAAO,EACPX,UAAWQ,GAAQ,kBAAM,iEAI/B,CACEjB,KAAM,SACNoB,OAAO,EACPC,KAAK,EACLZ,UAAWQ,GAAQ,kBAAM,+DAO3B,CACEjB,KAAM,KACNqB,KAAK,EACLZ,UAAWQ,GAAQ,kBAAM,+DAE3B,CACEjB,KAAM,KACNqB,KAAK,EACLZ,UAAWQ,GAAQ,kBAAM,+DAE3B,CACEjB,KAAM,IACNS,UAAWQ,GAAQ,kBAAM,gE,4kBC3B7BK,IAAOC,OAAO,SAEd,IA4BMC,EAAY,4CAAG,8GACGC,EAAWC,SAASC,SAASC,SAAUT,KAAtDjB,EADY,EACZA,aADY,iCAGIA,EAAYO,YAAYF,MAAMI,OAHlC,OAGXkB,EAHW,OAIjB3B,EAAYO,UAAYoB,EAASA,EAAM,QAAW,KAC5CR,EAAMnB,EAAYmB,MAAO,EAC/BS,EAAOX,EAAQE,GANE,wBAQjBS,EAAOX,GARU,QAUfY,EAVe,4CAAH,qDAeZD,EAAS,SAAC7B,GAA0B,IAAfoB,IAAe,yDACxCW,IAASC,OAAOC,gBAAkBb,EAAM,UAAY,UAClD,kBAAC,iBAAD,CAAgBE,OAAQY,KACtB,kBAAC,IAAD,KACE,kBAAC,SAAD,KAEIlC,EAAUmC,KAAI,SAAChC,EAAMiC,GAAP,OAAgB,kBAAC,QAAD,CAC5BA,IAAKA,EACLrC,KAAMI,EAAKJ,KACX8B,OAAQ,SAACvB,GACP,IAAMS,EAAYZ,EAAKK,UACvB,OAAO,kBAACO,EAAD,KAAeT,EAAf,CAAsBY,OAAQf,EAAKe,mBAOtDO,SAASY,eAAe,SAGbC,UAA4Bf,K,mBClF3C5B,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,mBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,mBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,mBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,K,mBCA3CF,EAAOC,QAAWC,EAAoB,GAArB,CAA0B,M","file":"static/js/main.js","sourcesContent":["module.exports = (__webpack_require__(12))(1);","module.exports = (__webpack_require__(12))(12);","module.exports = (__webpack_require__(12))(179);","module.exports = (__webpack_require__(12))(13);","module.exports = (__webpack_require__(12))(23);","module.exports = vendor_df17b;","module.exports = (__webpack_require__(12))(6);","module.exports = (__webpack_require__(12))(402);","module.exports = (__webpack_require__(12))(41);","module.exports = (__webpack_require__(12))(534);","module.exports = (__webpack_require__(12))(59);","module.exports = (__webpack_require__(12))(14);","module.exports = (__webpack_require__(12))(22);","import {matchPath} from 'react-router-dom';\n\nexport default (path, routeList) => {\n  let targetRoute; let targetMatch;\n  for (const item of routeList) {\n    targetMatch = matchPath(path, item);\n    if (targetMatch) {\n      targetRoute = item;\n      break;\n    }\n  }\n  return {targetRoute, targetMatch};\n};\n","\nimport React from 'react';\n\nclass AsyncComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      component: null,\n    };\n  }\n\n  async componentDidMount() {\n    if (!this.state.component) {\n      await this.load(this.props);\n    }\n  }\n\n  async load(props) {\n    const Module = await props.load();\n    this.setState({\n      component: Module.default ? Module.default : Module,\n    });\n  }\n\n  render() {\n    return this.state.component ? this.props.children(this.state.component) : null;\n  }\n}\n\nfunction loadble(loader) {\n  // 服务端组件重新require引入，实现热更新。\n  // eslint-disable-next-line no-undef\n  if (__SERVER__ && __DEV__) {\n    const loaderString = loader.toString();\n    const prefix = loaderString.indexOf('src/pages/');\n    const suffix = loaderString.indexOf('.js');\n    const url = loaderString.substring(prefix + 10, suffix);\n    require(`src/pages/${url}.js`);\n  }\n  const asyncFn = props => (<AsyncComponent load={loader}>\n    {Component => <Component {...props} />}\n  </AsyncComponent>);\n  return asyncFn;\n}\n\nexport default loadble;\n","import loadble from './utils/loadble';\n\nconst routes = [\n  {\n    path: '/home',\n    exact: true,\n    component: loadble(() => import(/* webpackChunkName: 'index' */'./pages/index')),\n    routes: [\n      {\n        path: ['/home', '/home/a'],\n        exact: true,\n        component: loadble(() => import(/* webpackChunkName: 'a' */'./pages/a')),\n      },\n      {\n        path: '/home/login1',\n        exact: true,\n        component: loadble(() => import(/* webpackChunkName: 'login' */'./pages/login')),\n      },\n    ],\n  },\n  {\n    path: '/login',\n    exact: true,\n    ssr: true,\n    component: loadble(() => import(/* webpackChunkName: 'login' */'./pages/login')),\n  },\n  // {\n  //   path: '/a',\n  //   ssr: true,\n  //   component: loadble(() => import(/* webpackChunkName: 'a' */'./pages/a')),\n  // },\n  {\n    path: '/b',\n    ssr: true,\n    component: loadble(() => import(/* webpackChunkName: 'b' */'./pages/b')),\n  },\n  {\n    path: '/c',\n    ssr: true,\n    component: loadble(() => import(/* webpackChunkName: 'c' */'./pages/c')),\n  },\n  {\n    path: '*',\n    component: loadble(() => import(/* webpackChunkName: 'not-found' */'./pages/not-found')),\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter, StaticRouter, Route, Switch} from 'react-router-dom';\nimport matchRoute from './utils/match-route';\nimport Layout from 'src/layout/index';\nimport getStaticRoutes from './utils/get-static-routes';\nimport routes from 'src/router';\nimport {ConfigProvider} from 'antd';\nimport zhCN from 'antd/lib/locale/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\n\nimport 'antd/dist/antd.less';\nimport 'src/assets/css/reset.less';\n\n\nmoment.locale('zh-cn');\n\nconst serverRender = async (ctx) => {\n  const routeList = await getStaticRoutes(routes);\n  const {targetRoute} = matchRoute(ctx.url, routeList);\n  const initialData = targetRoute.component.getInitialProps ? await targetRoute.component.getInitialProps(ctx) : {};\n  const context = {\n    initialData,\n  };\n  return (<ConfigProvider locale={zhCN}>\n    <StaticRouter location={ctx.url} context={context}>\n      <Layout initalData={initialData}>\n        <Switch>\n          {\n            routeList.map((item, key) => (item.ssr ? <Route\n              key={key}\n              path={item.path}\n              render={(props) => {\n                const Component = item.component;\n                return <Component {...props} routes={item.routes} />;\n              }}\n            /> : undefined))\n          }\n        </Switch>\n      </Layout>\n    </StaticRouter>\n  </ConfigProvider>\n  );\n};\n\nconst clientRender = async () => {\n  const {targetRoute} = matchRoute(document.location.pathname, routes);\n  if (targetRoute) {\n    const result = await targetRoute.component().props.load();\n    targetRoute.component = result ? result.default : null;\n    const ssr = targetRoute.ssr || false;\n    render(routes, ssr);\n  } else {\n    render(routes);\n  }\n  if (process.env.NODE_ENV === 'development' && module.hot) {\n    module.hot.accept();\n  }\n};\n\nconst render = (routeList, ssr = true) => {\n  ReactDOM[window.__USE_SERVER__ && ssr ? 'hydrate' : 'render'](\n    <ConfigProvider locale={zhCN}>\n      <BrowserRouter>\n        <Switch>\n          {\n            routeList.map((item, key) => (<Route\n              key={key}\n              path={item.path}\n              render={(props) => {\n                const Component = item.component;\n                return <Component {...props} routes={item.routes} />;\n              }}\n            />))\n          }\n        </Switch>\n      </BrowserRouter>\n    </ConfigProvider>,\n    document.getElementById('app'));\n};\n\nexport default __SERVER__ ? serverRender : clientRender();\n","module.exports = (__webpack_require__(12))(19);","module.exports = (__webpack_require__(12))(25);","module.exports = (__webpack_require__(12))(18);","module.exports = (__webpack_require__(12))(28);","module.exports = (__webpack_require__(12))(57);"],"sourceRoot":""}